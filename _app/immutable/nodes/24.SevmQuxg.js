import"../chunks/disclose-version.Bg9kRutz.js";import{e as j,g as q,l as s,i,r,t as y,s as p,D as h,o as k,j as _}from"../chunks/runtime.CwSbfP9F.js";import{e as F,s as g}from"../chunks/render.BfxXu2ce.js";import{i as S}from"../chunks/if.ZcvIpmxW.js";import{e as C,i as D}from"../chunks/each.BdGor9y4.js";import{a as c,t as u}from"../chunks/template.Dj2c3_OM.js";import{p as P}from"../chunks/event-modifiers.Bfc47y5P.js";import{i as Y}from"../chunks/lifecycle.Dpi4XHcX.js";import{d as A}from"../chunks/api.CpnLB2Sq.js";import{c as N,s as O}from"../chunks/countries.rKgEci2Q.js";import{g as T}from"../chunks/entry.CDBu3P4u.js";import{b as B}from"../chunks/paths.OcXPU7ra.js";var E=u('<div class="row mt-4"><p><mark> </mark></p></div>'),L=u("<option> </option>"),M=u(`<div class="container" style="max-width:800px"><!> <form class="row mt-4" method="POST"><div class="col"><div class="mb-3"><label for="first_name" class="form-label">First Name</label> <input type="text" class="form-control" id="first_name" name="first_name" required></div></div> <div class="col"><div class="mb-3"><label for="last_name" class="form-label">Last Name</label> <input type="text" class="form-control" id="last_name" name="last_name" required></div></div> <div class="mb-3"><label for="email" class="form-label">Email address</label> <input type="email" class="form-control" id="email" name="email" required aria-describedby="emailhelp"> <div id="emailhelp" class="form-text">Your email address will be verified after registration</div></div> <div class="mb-3"><label for="password" class="form-label">Password</label> <input type="password" class="form-control" id="password" name="password" minlength="10" required aria-describedby="passwordhelp"> <div id="passwordhelp" class="form-text">Minimum of ten characters</div></div> <div class="mb-3"><label for="country" class="form-label">Country</label> <select class="form-select" id="country" name="country" required></select></div> <div class="mb-3"><button type="submit" class="btn btn-primary">Register<sup>*</sup></button></div></form> <div class="row mt-3 border-top"><p><small><sup>*</sup> By registering for an account you agree to the following:</small></p></div> <div class="row"><div class="col ml-8"><small><ul><li>Any flight data you upload will be in the spirit of this database:</li> <ul><li>Flown by yourself (or the named pilot if you are a contest director)</li> <li>Unadulterated and not post-processed in any way</li> <li>Flown, within reason, under conditions stipulated by the rules of your discipline</li></ul> <li>Your name, Country and uploaded scores may be shared in ranking tables, competition
						results and other forms as part of this website</li> <li>Your uploaded data may be used to further develop FC Score</li> <li>At the discretion of the site administrators, your account may be suspended or deleted</li></ul></small></div></div></div>`);function Z(w,x){j(x,!1);let l=k();async function $(o){try{const e=new FormData(o.currentTarget),a=O(e.get("country")),t={first_name:e.get("first_name"),last_name:e.get("last_name"),email:e.get("email"),password:e.get("password"),country:a[0],country_emoji:a[1]};_(l,void 0);const m=await A.post("auth/register",t);T(`${B}/user/verify-request?email=${t.email}`)}catch{_(l,"Oops...something has gone wrong. Please try again later.")}}Y();var n=M(),f=i(n);S(f,()=>s(l),o=>{var e=E(),a=i(e),t=i(a),m=i(t);r(t),r(a),r(e),y(()=>g(m,s(l))),c(o,e)});var d=p(f,2),v=p(i(d),8),b=p(i(v),2);C(b,5,()=>N,D,(o,e)=>{var a=L(),t={},m=i(a);r(a),y(()=>{t!==(t=`${s(e).name??""} ${s(e).emoji??""}`)&&(a.value=(a.__value=`${s(e).name??""} ${s(e).emoji??""}`)==null?"":`${s(e).name??""} ${s(e).emoji??""}`),g(m,`${s(e).name??""} ${s(e).emoji??""}`)}),c(o,a)}),r(b),r(v),h(2),r(d),h(4),r(n),F("submit",d,P($)),c(w,n),q()}export{Z as component};
