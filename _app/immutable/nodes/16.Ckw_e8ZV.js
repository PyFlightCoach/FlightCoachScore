import"../chunks/disclose-version.Bg9kRutz.js";import{e as P,t as $,g as T,l as x,i as e,r as s,s as r,D as z,o as E,j as J}from"../chunks/runtime.CwSbfP9F.js";import{e as M,s as l}from"../chunks/render.BfxXu2ce.js";import{i as S}from"../chunks/if.ZcvIpmxW.js";import{a as b,t as g}from"../chunks/template.Dj2c3_OM.js";import{p as U}from"../chunks/event-modifiers.Bfc47y5P.js";import{i as q}from"../chunks/lifecycle.Dpi4XHcX.js";import{s as G,a as _}from"../chunks/store.CQHjRMnn.js";import{a as H,e as K,v as L}from"../chunks/analysis.DdsEFb_0.js";import{b as Q}from"../chunks/analysis.Dc8TT14m.js";import{g as R}from"../chunks/index.ClTKiXCz.js";import{u as V}from"../chunks/user.Yoi7WK51.js";import{d as W}from"../chunks/api.CpnLB2Sq.js";const ft=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var X=g('<div class="row mt-4"><p><mark> </mark></p></div>'),Y=g('<div class="input-group"><span class="input-group-text">Additional controls for supeuser</span></div>'),Z=g('<form class="col-4"><!> <h4 class="form-label">Flight Data Upload</h4> <p class="form-label"> </p> <p class="form-label"> </p> <p class="form-label"> </p> <p class="form-label"> </p> <div class="form-check"><input id="include_bin" name="include_bin" class="form-check-input" type="checkbox"> <label class="form-check-label" for="include_bin">Include BIN File</label></div> <div class="input-group"><label class="input-group-text" for="comments">Comments</label> <input id="comments" class="form-control" type="text" name="comments"></div> <!> <button class="btn btn-primary" type="submit">Submit</button></form>');function dt(k,w){P(w,!1);const n=G(),p=()=>_(K,"$bin",n),F=()=>_(L,"$totalScore",n),j=()=>_(V,"$user",n);let c=E(),h=R(H[0]).schedule;const D=async t=>{var a;try{const o=new FormData;o.append("files",new File([new Blob([JSON.stringify(await Q(!0),null,2)],{type:"application/octet-stream"})],"analysis.ajson",{type:"application/octet-stream"})),(a=t.target)!=null&&a.include_bin.checked&&p()&&o.append("files",p());const v=await W.post("flight",o)}catch{J(c,"Oops...something has gone wrong. Please try again later.")}};q();var i=Z(),y=e(i);S(y,()=>x(c),t=>{var a=X(),o=e(a),v=e(o),N=e(v);s(v),s(o),s(a),$(()=>l(N,x(c))),b(t,a)});var m=r(y,4),O=e(m);s(m);var u=r(m,2),B=e(u);s(u);var f=r(u,2),A=e(f);s(f);var d=r(f,2),C=e(d);s(d);var I=r(d,6);S(I,()=>{var t;return(t=j())==null?void 0:t.is_superuser},t=>{var a=Y();b(t,a)}),z(2),s(i),$(()=>{var t;l(O,`Bin File: ${((t=p())==null?void 0:t.name)??""}`),l(B,`Category: ${h.category??""}`),l(A,`Schedule: ${h.name??""}`),l(C,`Total Score: ${F()??""}`)}),M("submit",i,U(D)),b(k,i),T()}export{dt as component,ft as universal};
