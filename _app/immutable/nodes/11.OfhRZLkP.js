import"../chunks/disclose-version.Bg9kRutz.js";import{e as Q,m as g,n as U,t as T,g as V,l as t,j as u,i as c,s as d,r,o as v,u as w,q as X}from"../chunks/runtime.CwSbfP9F.js";import{e as h,s as Y}from"../chunks/render.BfxXu2ce.js";import{e as Z,i as tt}from"../chunks/each.BdGor9y4.js";import{a as W,t as H}from"../chunks/template.Dj2c3_OM.js";import{s as et,r as st}from"../chunks/attributes.Dii1APe5.js";import{b as at}from"../chunks/input.idUdRhwM.js";import{b as ot}from"../chunks/select.CC4XUPX2.js";import{i as nt}from"../chunks/lifecycle.Dpi4XHcX.js";import{s as it,a as C,d as F,b as rt,c as lt}from"../chunks/store.CQHjRMnn.js";import{s as ct,a as mt}from"../chunks/analysis.DdsEFb_0.js";import{a as G,M as ut}from"../chunks/analysis.Dc8TT14m.js";import{b as dt}from"../chunks/paths.OcXPU7ra.js";import{P as ft}from"../chunks/PlotDTW.SX7vp4oz.js";var vt=H("<option> </option>"),pt=H('<div class="col-12 border"><!> <nav class="navbar fixed-bottom"><div class="container-fluid justify-content-md-center"><div class="row"><div class="col"><ul class="navbar-nav me-auto mb-2 mb-lg-0"><div class="input-group"><select class="form-control-sm form-select" title="Select element to edit or click ribbon"></select> <input title="Enter step size in seconds" class="form-control-sm" type="number" id="stepsize" step="0.1"> <button class="form-control-sm btn btn-outline-secondary" title="Adjust split location backwards">&#60</button> <button class="form-control-sm btn btn-outline-secondary" title="Run aligment optimisation">&#62</button> <button class="form-control-sm btn btn-outline-secondary" title="Recalculate score without optimisation">Optimise</button> <button class="form-control-sm btn btn-outline-secondary" title="Adjust split location forwards">Score</button> <a class="form-control-sm btn btn-outline-secondary" title="Back to Main Page">back</a></div></ul></div></div></div></nav></div>');function It(J,K){Q(K,!1);const k=it(),f=()=>C(ct,"$selManID",k),e=()=>C(t(p),"$man",k),p=v(),l=v(),n=v(),b=v();let _=v(.5),m=v(null);const D=(s,a)=>{if(a==null)return;const o=t(l).lastIndexOf(a);let i=0;if(s>0){const j=Math.min(t(n)[a].lastt+s,t(n)[t(l)[o+1]].lastt-.1);for(;e().flown.data[t(n)[t(l)[o]].lastid+i].t<j;)F(t(p),w(e).flown.data[t(n)[t(l)[o]].lastid+i].element=a,w(e)),i+=1}else{const j=Math.max(t(n)[a].lastt+s,t(n)[a].firstt+.1);for(;e().flown.data[t(n)[t(l)[o]].lastid-i].t>j;)F(t(p),w(e).flown.data[t(n)[t(l)[o]].lastid-i].element=t(l)[o+1],w(e)),i+=1}let x=e().history;rt(t(p),new ut(e().name,e().id,e().tStart,e().tStop,e().schedule,e().scheduleDirection,x,e().k,e().flown))};g(()=>f(),()=>{lt(u(p,mt[f()]),"$man",k)}),g(()=>e(),()=>{var s,a;u(l,(a=(s=e())==null?void 0:s.flown)==null?void 0:a.element)}),g(()=>e(),()=>{var s,a;u(n,(a=(s=e())==null?void 0:s.flown)==null?void 0:a.end_info())}),g(()=>e(),()=>{u(b,e().flown.split())}),U(),nt();var M=pt(),S=c(M);ft(S,{get sts(){return t(b)},get activeEl(){return t(m)},set activeEl(s){u(m,s)},sp:3,$$legacy:!0});var E=d(S,2),I=c(E),A=c(I),O=c(A),P=c(O),z=c(P),y=c(z);T(()=>{t(m),X(()=>{t(b)})}),Z(y,5,()=>["Select Element"].concat(...Object.keys(t(b))),tt,(s,a)=>{var o=vt(),i={},x=c(o);r(o),T(()=>{i!==(i=t(a))&&(o.value=(o.__value=t(a))==null?"":t(a)),Y(x,t(a))}),W(s,o)}),r(y);var $=d(y,2);st($);var N=d($,2),R=d(N,2),q=d(R,2),B=d(q,2),L=d(B,2);et(L,"href",dt+"/analysis/results"),r(z),r(P),r(O),r(A),r(I),r(E),r(M),ot(y,()=>t(m),s=>u(m,s)),at($,()=>t(_),s=>u(_,s)),h("click",N,()=>{D(-Number(t(_)),t(m))}),h("click",R,()=>{D(Number(t(_)),t(m))}),h("click",q,()=>{f()&&G(f(),!0,!0)}),h("click",B,()=>{f()&&G(f(),!0,!1)}),W(J,M),V()}export{It as component};
