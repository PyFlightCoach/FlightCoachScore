import{d as X}from"../chunks/api.CpnLB2Sq.js";import"../chunks/disclose-version.Bg9kRutz.js";import{e as se,t as u,g as ie,i as t,s as o,r as e,D as ne,l as r,o as K,j as Q}from"../chunks/runtime.CwSbfP9F.js";import{e as W,s as n}from"../chunks/render.BfxXu2ce.js";import{e as b,i as y}from"../chunks/each.BdGor9y4.js";import{a as p,t as f}from"../chunks/template.Dj2c3_OM.js";import{r as de,b as ve}from"../chunks/attributes.Dii1APe5.js";import{p as ce}from"../chunks/event-modifiers.Bfc47y5P.js";import{i as _e}from"../chunks/lifecycle.Dpi4XHcX.js";import{p as me}from"../chunks/props.DEpAHq7J.js";async function ue(){return await X.get("flight/lists")}const Me=Object.freeze(Object.defineProperty({__proto__:null,load:ue},Symbol.toStringTag,{value:"Module"}));async function pe(h){const v=[...h.entries()].map(d=>`${encodeURIComponent(d[0])}=${encodeURIComponent(d[1])}`).join("&");let c=(await X.get("flight/bestof?"+v)).results;for(const d in c)c[d].score=Math.round(parseFloat(c[d].score)*10)/10;return c}var fe=f("<option> </option>"),be=f("<option> </option>"),ye=f('<th scope="col"> </th>'),he=f("<tr><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>"),ge=f('<div class="container-xl"><div class="row mt-4"><div class="col-3 bg-light"><form method="POST"><div class="mt-2 mb-3"><input type="checkbox" class="form-check-input" id="me_only_flag" name="me_only_flag"> <label for="me_only_flag">Only my flights</label></div> <div class="mb-3"><input type="checkbox" class="form-check-input" id="one_per_pilot_flag" name="one_per_pilot_flag" checked> <label for="one_per_pilot_flag">Only best flight for each pilot</label></div> <div class="mb-3"><label for="schedule">Schedule</label> <select class="form-select" id="schedule" name="schedule" required></select></div> <div class="mb-3"><label for="difficulty">Difficulty</label> <select class="form-select" id="difficulty" name="difficulty" required><option>Hard</option><option>Moderate</option><option>Easy</option></select></div> <div class="mb-3"><label for="version">FA Version</label> <select class="form-select" id="version" name="version" required></select></div> <div class="mb-3"><input type="checkbox" class="form-check-input" id="truncate" name="truncate"> <label for="truncate">Truncate</label></div> <div class="mb-3"><label for="manoeuvre_ind">Manoeuvre Number</label> <input type="number" class="form-control" id="manoeuvre_ind" name="manoeuvre_ind" placeholder="Use Flight Score" min="1"></div> <div class="mb-3"><label for="n_days"> </label> <input type="range" class="form-range" id="n_days" name="n_days" min="30" max="380" step="10"></div> <div class="mt-3"><button type="submit" class="btn btn-primary">Submit</button></div></form></div> <div class="col" style="max-height:700px; overflow:scroll"><small><table class="table table-success table-striped text-center"><thead class="table-dark sticky-top" style="z-index:-1"><tr></tr></thead><tbody></tbody></table></small></div></div></div>');function Te(h,g){se(g,!1);let v=me(g,"data",8);console.log(v().schedules),console.log(v().fa_versions);let _=K(60),c=["Position","Rank","Name","Country","Date","Score"],d=K([]);function Y(s){Q(_,s.srcElement.value==370?720:s.srcElement.value==380?1e4:s.srcElement.value)}async function Z(s){const a=new FormData(s.currentTarget);a.set("n_days",r(_)),a.get("manoeuvre_ind")==""&&a.delete("manoeuvre_ind"),Q(d,await pe(a))}_e();var x=ge(),U=t(x),k=t(U),S=t(k),q=o(t(S),4),z=o(t(q),2);b(z,5,()=>v().schedules,y,(s,a)=>{var l=fe(),i={},m=t(l);e(l),u(()=>{i!==(i=r(a))&&(l.value=(l.__value=r(a))==null?"":r(a)),n(m,r(a))}),p(s,l)}),e(z),e(q);var D=o(q,2),I=o(t(D),2),O=t(I);O.value=(O.__value="3")==null?"":"3";var j=o(O);j.value=(j.__value="2")==null?"":"2";var N=o(j);N.value=(N.__value="1")==null?"":"1",e(I),e(D);var w=o(D,2),$=o(t(w),2);b($,5,()=>v().fa_versions,y,(s,a)=>{var l=be(),i={},m=t(l);e(l),u(()=>{i!==(i=r(a))&&(l.value=(l.__value=r(a))==null?"":r(a)),n(m,r(a))}),p(s,l)}),e($),e(w);var A=o(w,6),E=t(A),ee=t(E);e(E);var F=o(E,2);de(F),e(A),ne(2),e(S),e(k);var H=o(k,2),L=t(H),V=t(L),M=t(V),B=t(M);b(B,5,()=>c,y,(s,a)=>{var l=ye(),i=t(l);e(l),u(()=>n(i,r(a))),p(s,l)}),e(B),e(M);var G=o(M);b(G,5,()=>r(d),y,(s,a)=>{var l=he(),i=t(l),m=t(i);e(i);var T=o(i),te=t(T);e(T);var C=o(T),ae=t(C);e(C);var P=o(C),le=t(P);e(P);var R=o(P),re=t(R);e(R);var J=o(R),oe=t(J);e(J),e(l),u(()=>{n(m,r(a).table_rank),n(te,r(a).rank),n(ae,r(a).name),n(le,r(a).country),n(re,r(a).date),n(oe,r(a).score)}),p(s,l)}),e(G),e(V),e(L),e(H),e(U),e(x),u(()=>{n(ee,`Limit to flights in the last ${r(_)??""} days`),ve(F,r(_))}),W("change",F,Y),W("submit",S,ce(Z)),p(h,x),ie()}export{Te as component,Me as universal};
