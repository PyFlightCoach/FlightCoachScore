import{w as g,x as o,h as w,y as x,z as k}from"./runtime.CwSbfP9F.js";import{l as _}from"./shared.DDxluiHs.js";import{g as m,i as A}from"./proxy.i28pW2RL.js";function B(e,r,a=r){var v=g();_(e,"input",()=>{var l=b(e)?t(e.value):e.value;a(l),v&&l!==(l=r())&&(e.value=l??"")}),o(()=>{var l=r();if(w&&e.defaultValue!==e.value){a(e.value);return}b(e)&&l===t(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}const u=new Set;function C(e,r,a,v,l=v){var d=a.getAttribute("type")==="checkbox",f=e;let h=!1;if(r!==null)for(var n of r)f=f[n]??(f[n]=[]);f.push(a),_(a,"change",()=>{var c=a.__value;d&&(c=i(f,c,a.checked)),l(c)},()=>l(d?[]:null)),o(()=>{var c=v();if(w&&a.defaultChecked!==a.checked){h=!0;return}d?(c=c||[],a.checked=m(c).includes(m(a.__value))):a.checked=A(a.__value,c)}),x(()=>{var c=f.indexOf(a);c!==-1&&f.splice(c,1)}),u.has(f)||(u.add(f),k(()=>{f.sort((c,s)=>c.compareDocumentPosition(s)===4?-1:1),u.delete(f)})),k(()=>{if(h){var c;if(d)c=i(f,c,a.checked);else{var s=f.find(y=>y.checked);c=s==null?void 0:s.__value}l(c)}})}function D(e,r,a=r){_(e,"change",()=>{var v=e.checked;a(v)}),r()==null&&a(!1),o(()=>{var v=r();e.checked=!!v})}function i(e,r,a){for(var v=new Set,l=0;l<e.length;l+=1)e[l].checked&&v.add(e[l].__value);return a||v.delete(r),Array.from(v)}function b(e){var r=e.type;return r==="number"||r==="range"}function t(e){return e===""?null:+e}function O(e,r,a=r){_(e,"change",()=>{a(e.files)}),o(()=>{e.files=r()})}export{D as a,B as b,O as c,C as d};
