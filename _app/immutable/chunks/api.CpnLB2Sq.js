import{w as d}from"./index.ClTKiXCz.js";function o(r,e,t=void 0){const s=d(localStorage.getItem(r)||e);return s.subscribe(a=>{localStorage.setItem(r,a),t&&t(a)}),s}class n{constructor(e){this.address=e}async handleResponse(e){if(e.ok){console.log(`${this.address}: OK`);try{return await e.json()}catch{return}}else throw new Error(`${this.address}: Error ${e.statusText}: ${(await e.json()).detail}`)}async fetch(e,t,s=void 0,a=void 0){const c=`${this.address}/${t.replace(/^\/+/g,"")}`,i={method:e,headers:{...s?{Cookie:s}:{},...a&&!(a instanceof FormData)?{"Content-Type":"application/json"}:{}},credentials:"include",...a?{body:a instanceof FormData?a:JSON.stringify(a)}:{}};return await this.handleResponse(await fetch(c,i))}async get(e,t=void 0){return await this.fetch("GET",e,t)}async post(e,t,s=void 0){return await this.fetch("POST",e,s,t)}async patch(e,t,s=void 0){return await this.fetch("PATCH",e,s,t)}}function S(r){const e=new FormData;return Object.entries(r).forEach(([t,s])=>{e.append(t,s)}),e}let l;const h="https://madeupmodels.com:5010",f=o("customAnalysisServer","http://localhost:5000"),p=o("analysisServer",h,r=>{l=new n(r)});let u;const m="https://madeupmodels.com:5012",w=o("customDBServer","http://localhost:8000"),y=o("dbServer",m,r=>{u=new n(r)});export{l as a,p as b,f as c,u as d,m as e,S as f,w as g,y as h,h as u};
